export let factory = null;
export function updateFactory(nodeFactory) {
    factory = nodeFactory;
}
const heuristics = new Map();
export const flags = {
    combine_juxtaposition: true,
    convert_juxtaposition: true,
    multioperator: true
};
const blacklist = {};
export function add(heuristic) {
    const name = heuristic.name;
    heuristics.set(name, heuristic);
    if (!flags[name]) {
        flags[name] = false;
    }
}
export function run(name, root, opt_alternative) {
    const heuristic = heuristics.get(name);
    return heuristic &&
        !blacklist[name] &&
        (flags[name] || heuristic.applicable(root))
        ? heuristic.apply(root)
        : opt_alternative
            ? opt_alternative(root)
            : root;
}
